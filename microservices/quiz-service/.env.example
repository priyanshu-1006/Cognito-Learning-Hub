# Server Configuration
PORT=3002
NODE_ENV=development
SERVICE_NAME=quiz-service

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/cognito_learning_hub

# Redis Configuration (CRITICAL for caching and job queue)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Google Gemini AI Configuration
GOOGLE_API_KEY=your-google-gemini-api-key
GEMINI_MODEL=gemini-2.5-flash

# Cache Settings (Optimization)
QUIZ_CACHE_TTL=86400
# Topic-based quiz cache: 24 hours (86400 seconds)
FILE_QUIZ_CACHE_TTL=604800
# File-based quiz cache: 7 days (604800 seconds)
ADAPTIVE_CACHE_TTL=300
# Adaptive difficulty cache: 5 minutes (300 seconds)

# AI Generation Settings
AI_TIMEOUT=15000
# AI request timeout: 15 seconds (15000 ms)
AI_MAX_RETRIES=3
AI_CIRCUIT_BREAKER_THRESHOLD=5
# Circuit breaker opens after 5 failures
AI_CIRCUIT_BREAKER_TIMEOUT=60000
# Circuit breaker reset after 60 seconds

# Job Queue Settings (Bull)
QUEUE_CONCURRENT_JOBS=3
# Process 3 quiz generations simultaneously
QUEUE_MAX_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
# 5 seconds between retries

# File Upload Settings
MAX_FILE_SIZE=10485760
# 10MB in bytes (10 * 1024 * 1024)
ALLOWED_FILE_TYPES=pdf,txt,doc,docx
UPLOAD_DIR=./uploads

# Rate Limiting (per user)
FREE_USER_DAILY_LIMIT=5
TEACHER_DAILY_LIMIT=20
PREMIUM_DAILY_LIMIT=100

# CORS Configuration
FRONTEND_URL=http://localhost:5173
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# API Gateway URL
API_GATEWAY_URL=http://localhost:3000

# Auth Service URL (for user verification)
AUTH_SERVICE_URL=http://localhost:3001

# Monitoring & Logging
LOG_LEVEL=info
ENABLE_PERFORMANCE_METRICS=true
